import{d as _e,$ as Fe,c as H,o as S,a as G,a0 as I,e as ae,u as _,q as X,D as J,a1 as Ft,a2 as yt,a3 as Ut,w as j,F as Kt,b as oe,s as we,a4 as Zt,a5 as Sn,k as me,a6 as An,a7 as Nn,a8 as Bn,a9 as Dn,K as Tn,t as Vn,r as On,y as ut,M as st,aa as be,ab as Rn,I as Hn,ac as lt,ad as In,O as Pn,ae as Ln,af as Et,ag as qn,ah as Yn,ai as Xn,P as jn,aj as Gn,ak as Wn,al as nt,f as Fn,am as Un,L as Kn,an as Zn}from"./index-BTrVndAq.js";var F=(e=>(e.Lines="lines",e.Dots="dots",e))(F||{});const Jn=function({dimensions:e,size:t,color:n}){return yt("path",{stroke:n,"stroke-width":t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`})},Qn=function({radius:e,color:t}){return yt("circle",{cx:e,cy:e,r:e,fill:t})};F.Lines+"",F.Dots+"";const er=["id","x","y","width","height","patternTransform"],tr={key:2,height:"100",width:"100"},nr=["fill"],rr=["x","y","fill"],or={name:"Background",compatConfig:{MODE:3}},ir=_e({...or,props:{id:null,variant:{default:F.Dots},gap:{default:20},size:{default:1},lineWidth:{default:1},patternColor:null,bgColor:null,height:{default:100},width:{default:100},x:{default:0},y:{default:0},offset:{default:2}},setup(e){const t={[F.Dots]:"#81818a",[F.Lines]:"#eee"},{id:n,viewport:r}=Fe(),o=H(()=>{const[u,l]=Array.isArray(e.gap)?e.gap:[e.gap,e.gap],s=[u*r.value.zoom||1,l*r.value.zoom||1],c=e.size*r.value.zoom,d=e.variant===F.Dots?[c/e.offset,c/e.offset]:[s[0]/e.offset,s[1]/e.offset];return{scaledGap:s,offset:d,size:c}}),i=H(()=>`pattern-${n}${e.id?`-${e.id}`:""}`),a=H(()=>e.patternColor||t[e.variant||F.Dots]);return(u,l)=>(S(),G("svg",{class:"vue-flow__background vue-flow__container",style:Ft({height:`${e.height>100?100:e.height}%`,width:`${e.width>100?100:e.width}%`})},[I(u.$slots,"pattern-container",{id:_(i)},()=>[ae("pattern",{id:_(i),x:_(r).x%_(o).scaledGap[0],y:_(r).y%_(o).scaledGap[1],width:_(o).scaledGap[0],height:_(o).scaledGap[1],patternTransform:`translate(-${_(o).offset[0]},-${_(o).offset[1]})`,patternUnits:"userSpaceOnUse"},[I(u.$slots,"pattern",{},()=>[e.variant===_(F).Lines?(S(),X(_(Jn),{key:0,size:e.lineWidth,color:_(a),dimensions:_(o).scaledGap},null,8,["size","color","dimensions"])):e.variant===_(F).Dots?(S(),X(_(Qn),{key:1,color:_(a),radius:_(o).size/e.offset},null,8,["color","radius"])):J("",!0),e.bgColor?(S(),G("svg",tr,[ae("rect",{width:"100%",height:"100%",fill:e.bgColor},null,8,nr)])):J("",!0)])],8,er)]),ae("rect",{x:e.x,y:e.y,width:"100%",height:"100%",fill:`url(#${_(i)})`},null,8,rr),I(u.$slots,"default",{id:_(i)})],4))}}),ar={name:"ControlButton",compatConfig:{MODE:3}},ur=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},sr={class:"vue-flow__controls-button"};function lr(e,t,n,r,o,i){return S(),G("button",sr,[I(e.$slots,"default")])}const $e=ur(ar,[["render",lr]]),cr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},fr=ae("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"},null,-1),hr=[fr];function dr(e,t){return S(),G("svg",cr,hr)}const pr={render:dr},mr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},vr=ae("path",{d:"M0 0h32v4.2H0z"},null,-1),gr=[vr];function yr(e,t){return S(),G("svg",mr,gr)}const _r={render:yr},wr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},br=ae("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0 0 27.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94a.919.919 0 0 1-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"},null,-1),xr=[br];function kr(e,t){return S(),G("svg",wr,xr)}const Mr={render:kr},$r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},zr=ae("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"},null,-1),Cr=[zr];function Er(e,t){return S(),G("svg",$r,Cr)}const Sr={render:Er},Ar={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Nr=ae("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 0 0 0 13.714v15.238A3.056 3.056 0 0 0 3.048 32h18.285a3.056 3.056 0 0 0 3.048-3.048V13.714a3.056 3.056 0 0 0-3.048-3.047zM12.19 24.533a3.056 3.056 0 0 1-3.047-3.047 3.056 3.056 0 0 1 3.047-3.048 3.056 3.056 0 0 1 3.048 3.048 3.056 3.056 0 0 1-3.048 3.047z"},null,-1),Br=[Nr];function Dr(e,t){return S(),G("svg",Ar,Br)}const Tr={render:Dr},Vr={name:"Controls",compatConfig:{MODE:3}},Or=_e({...Vr,props:{showZoom:{type:Boolean,default:!0},showFitView:{type:Boolean,default:!0},showInteractive:{type:Boolean,default:!0},fitViewParams:null,position:{default:Ut.BottomLeft}},emits:["zoomIn","zoomOut","fitView","interactionChange"],setup(e,{emit:t}){const{nodesDraggable:n,nodesConnectable:r,elementsSelectable:o,setInteractive:i,zoomIn:a,zoomOut:u,fitView:l}=Fe(),s=H(()=>n.value&&r.value&&o.value);function c(){a(),t("zoomIn")}function d(){u(),t("zoomOut")}function m(){l(e.fitViewParams),t("fitView")}function g(){i(!s.value),t("interactionChange",!s.value)}return(k,$)=>(S(),X(_(Zt),{class:"vue-flow__controls",position:e.position},{default:j(()=>[I(k.$slots,"top"),e.showZoom?(S(),G(Kt,{key:0},[I(k.$slots,"control-zoom-in",{},()=>[oe($e,{class:"vue-flow__controls-zoomin",onClick:c},{default:j(()=>[I(k.$slots,"icon-zoom-in",{},()=>[(S(),X(we(_(pr))))])]),_:3})]),I(k.$slots,"control-zoom-out",{},()=>[oe($e,{class:"vue-flow__controls-zoomout",onClick:d},{default:j(()=>[I(k.$slots,"icon-zoom-out",{},()=>[(S(),X(we(_(_r))))])]),_:3})])],64)):J("",!0),e.showFitView?I(k.$slots,"control-fit-view",{key:1},()=>[oe($e,{class:"vue-flow__controls-fitview",onClick:m},{default:j(()=>[I(k.$slots,"icon-fit-view",{},()=>[(S(),X(we(_(Mr))))])]),_:3})]):J("",!0),e.showInteractive?I(k.$slots,"control-interactive",{key:2},()=>[e.showInteractive?(S(),X($e,{key:0,class:"vue-flow__controls-interactive",onClick:g},{default:j(()=>[_(s)?I(k.$slots,"icon-unlock",{key:0},()=>[(S(),X(we(_(Tr))))]):J("",!0),_(s)?J("",!0):I(k.$slots,"icon-lock",{key:1},()=>[(S(),X(we(_(Sr))))])]),_:3})):J("",!0)]):J("",!0),I(k.$slots,"default")]),_:3},8,["position"]))}});var Rr={value:()=>{}};function _t(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new He(n)}function He(e){this._=e}function Hr(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}He.prototype=_t.prototype={constructor:He,on:function(e,t){var n=this._,r=Hr(e+"",n),o,i=-1,a=r.length;if(arguments.length<2){for(;++i<a;)if((o=(e=r[i]).type)&&(o=Ir(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<a;)if(o=(e=r[i]).type)n[o]=St(n[o],e.name,t);else if(t==null)for(o in n)n[o]=St(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new He(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Ir(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function St(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Rr,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ct="http://www.w3.org/1999/xhtml";const At={svg:"http://www.w3.org/2000/svg",xhtml:ct,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ue(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),At.hasOwnProperty(t)?{space:At[t],local:e}:e}function Pr(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ct&&t.documentElement.namespaceURI===ct?t.createElement(e):t.createElementNS(n,e)}}function Lr(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Jt(e){var t=Ue(e);return(t.local?Lr:Pr)(t)}function qr(){}function wt(e){return e==null?qr:function(){return this.querySelector(e)}}function Yr(e){typeof e!="function"&&(e=wt(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,u=r[o]=new Array(a),l,s,c=0;c<a;++c)(l=i[c])&&(s=e.call(l,l.__data__,c,i))&&("__data__"in l&&(s.__data__=l.__data__),u[c]=s);return new W(r,this._parents)}function Xr(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function jr(){return[]}function Qt(e){return e==null?jr:function(){return this.querySelectorAll(e)}}function Gr(e){return function(){return Xr(e.apply(this,arguments))}}function Wr(e){typeof e=="function"?e=Gr(e):e=Qt(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var a=t[i],u=a.length,l,s=0;s<u;++s)(l=a[s])&&(r.push(e.call(l,l.__data__,s,a)),o.push(l));return new W(r,o)}function en(e){return function(){return this.matches(e)}}function tn(e){return function(t){return t.matches(e)}}var Fr=Array.prototype.find;function Ur(e){return function(){return Fr.call(this.children,e)}}function Kr(){return this.firstElementChild}function Zr(e){return this.select(e==null?Kr:Ur(typeof e=="function"?e:tn(e)))}var Jr=Array.prototype.filter;function Qr(){return Array.from(this.children)}function eo(e){return function(){return Jr.call(this.children,e)}}function to(e){return this.selectAll(e==null?Qr:eo(typeof e=="function"?e:tn(e)))}function no(e){typeof e!="function"&&(e=en(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,u=r[o]=[],l,s=0;s<a;++s)(l=i[s])&&e.call(l,l.__data__,s,i)&&u.push(l);return new W(r,this._parents)}function nn(e){return new Array(e.length)}function ro(){return new W(this._enter||this._groups.map(nn),this._parents)}function qe(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}qe.prototype={constructor:qe,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function oo(e){return function(){return e}}function io(e,t,n,r,o,i){for(var a=0,u,l=t.length,s=i.length;a<s;++a)(u=t[a])?(u.__data__=i[a],r[a]=u):n[a]=new qe(e,i[a]);for(;a<l;++a)(u=t[a])&&(o[a]=u)}function ao(e,t,n,r,o,i,a){var u,l,s=new Map,c=t.length,d=i.length,m=new Array(c),g;for(u=0;u<c;++u)(l=t[u])&&(m[u]=g=a.call(l,l.__data__,u,t)+"",s.has(g)?o[u]=l:s.set(g,l));for(u=0;u<d;++u)g=a.call(e,i[u],u,i)+"",(l=s.get(g))?(r[u]=l,l.__data__=i[u],s.delete(g)):n[u]=new qe(e,i[u]);for(u=0;u<c;++u)(l=t[u])&&s.get(m[u])===l&&(o[u]=l)}function uo(e){return e.__data__}function so(e,t){if(!arguments.length)return Array.from(this,uo);var n=t?ao:io,r=this._parents,o=this._groups;typeof e!="function"&&(e=oo(e));for(var i=o.length,a=new Array(i),u=new Array(i),l=new Array(i),s=0;s<i;++s){var c=r[s],d=o[s],m=d.length,g=lo(e.call(c,c&&c.__data__,s,r)),k=g.length,$=u[s]=new Array(k),A=a[s]=new Array(k),b=l[s]=new Array(m);n(c,d,$,A,b,g,t);for(var V=0,O=0,P,N;V<k;++V)if(P=$[V]){for(V>=O&&(O=V+1);!(N=A[O])&&++O<k;);P._next=N||null}}return a=new W(a,r),a._enter=u,a._exit=l,a}function lo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function co(){return new W(this._exit||this._groups.map(nn),this._parents)}function fo(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function ho(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,a=Math.min(o,i),u=new Array(o),l=0;l<a;++l)for(var s=n[l],c=r[l],d=s.length,m=u[l]=new Array(d),g,k=0;k<d;++k)(g=s[k]||c[k])&&(m[k]=g);for(;l<o;++l)u[l]=n[l];return new W(u,this._parents)}function po(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],a;--o>=0;)(a=r[o])&&(i&&a.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(a,i),i=a);return this}function mo(e){e||(e=vo);function t(d,m){return d&&m?e(d.__data__,m.__data__):!d-!m}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a=n[i],u=a.length,l=o[i]=new Array(u),s,c=0;c<u;++c)(s=a[c])&&(l[c]=s);l.sort(t)}return new W(o,this._parents).order()}function vo(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function go(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function yo(){return Array.from(this)}function _o(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}function wo(){let e=0;for(const t of this)++e;return e}function bo(){return!this.node()}function xo(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,a=o.length,u;i<a;++i)(u=o[i])&&e.call(u,u.__data__,i,o);return this}function ko(e){return function(){this.removeAttribute(e)}}function Mo(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $o(e,t){return function(){this.setAttribute(e,t)}}function zo(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Co(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Eo(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function So(e,t){var n=Ue(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Mo:ko:typeof t=="function"?n.local?Eo:Co:n.local?zo:$o)(n,t))}function rn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ao(e){return function(){this.style.removeProperty(e)}}function No(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Bo(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Do(e,t,n){return arguments.length>1?this.each((t==null?Ao:typeof t=="function"?Bo:No)(e,t,n??"")):ge(this.node(),e)}function ge(e,t){return e.style.getPropertyValue(t)||rn(e).getComputedStyle(e,null).getPropertyValue(t)}function To(e){return function(){delete this[e]}}function Vo(e,t){return function(){this[e]=t}}function Oo(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ro(e,t){return arguments.length>1?this.each((t==null?To:typeof t=="function"?Oo:Vo)(e,t)):this.node()[e]}function on(e){return e.trim().split(/^|\s+/)}function bt(e){return e.classList||new an(e)}function an(e){this._node=e,this._names=on(e.getAttribute("class")||"")}an.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function un(e,t){for(var n=bt(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function sn(e,t){for(var n=bt(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Ho(e){return function(){un(this,e)}}function Io(e){return function(){sn(this,e)}}function Po(e,t){return function(){(t.apply(this,arguments)?un:sn)(this,e)}}function Lo(e,t){var n=on(e+"");if(arguments.length<2){for(var r=bt(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Po:t?Ho:Io)(n,t))}function qo(){this.textContent=""}function Yo(e){return function(){this.textContent=e}}function Xo(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function jo(e){return arguments.length?this.each(e==null?qo:(typeof e=="function"?Xo:Yo)(e)):this.node().textContent}function Go(){this.innerHTML=""}function Wo(e){return function(){this.innerHTML=e}}function Fo(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Uo(e){return arguments.length?this.each(e==null?Go:(typeof e=="function"?Fo:Wo)(e)):this.node().innerHTML}function Ko(){this.nextSibling&&this.parentNode.appendChild(this)}function Zo(){return this.each(Ko)}function Jo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qo(){return this.each(Jo)}function ei(e){var t=typeof e=="function"?e:Jt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ti(){return null}function ni(e,t){var n=typeof e=="function"?e:Jt(e),r=t==null?ti:typeof t=="function"?t:wt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ri(){var e=this.parentNode;e&&e.removeChild(this)}function oi(){return this.each(ri)}function ii(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ai(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ui(e){return this.select(e?ai:ii)}function si(e){return arguments.length?this.property("__data__",e):this.node().__data__}function li(e){return function(t){e.call(this,t,this.__data__)}}function ci(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function fi(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function hi(e,t,n){return function(){var r=this.__on,o,i=li(t);if(r){for(var a=0,u=r.length;a<u;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function di(e,t,n){var r=ci(e+""),o,i=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u){for(var l=0,s=u.length,c;l<s;++l)for(o=0,c=u[l];o<i;++o)if((a=r[o]).type===c.type&&a.name===c.name)return c.value}return}for(u=t?hi:fi,o=0;o<i;++o)this.each(u(r[o],t,n));return this}function ln(e,t,n){var r=rn(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function pi(e,t){return function(){return ln(this,e,t)}}function mi(e,t){return function(){return ln(this,e,t.apply(this,arguments))}}function vi(e,t){return this.each((typeof t=="function"?mi:pi)(e,t))}function*gi(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,a;o<i;++o)(a=r[o])&&(yield a)}var cn=[null];function W(e,t){this._groups=e,this._parents=t}function Be(){return new W([[document.documentElement]],cn)}function yi(){return this}W.prototype=Be.prototype={constructor:W,select:Yr,selectAll:Wr,selectChild:Zr,selectChildren:to,filter:no,data:so,enter:ro,exit:co,join:fo,merge:ho,selection:yi,order:po,sort:mo,call:go,nodes:yo,node:_o,size:wo,empty:bo,each:xo,attr:So,style:Do,property:Ro,classed:Lo,text:jo,html:Uo,raise:Zo,lower:Qo,append:ei,insert:ni,remove:oi,clone:ui,datum:si,on:di,dispatch:vi,[Symbol.iterator]:gi};function ce(e){return typeof e=="string"?new W([[document.querySelector(e)]],[document.documentElement]):new W([[e]],cn)}function _i(e){let t;for(;t=e.sourceEvent;)e=t;return e}function se(e,t){if(e=_i(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const ft={capture:!0,passive:!1};function ht(e){e.preventDefault(),e.stopImmediatePropagation()}function wi(e){var t=e.document.documentElement,n=ce(e).on("dragstart.drag",ht,ft);"onselectstart"in t?n.on("selectstart.drag",ht,ft):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function bi(e,t){var n=e.document.documentElement,r=ce(e).on("dragstart.drag",null);t&&(r.on("click.drag",ht,ft),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function xt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function De(){}var Ee=.7,Ye=1/Ee,ve="\\s*([+-]?\\d+)\\s*",Se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Q="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xi=/^#([0-9a-f]{3,8})$/,ki=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),Mi=new RegExp(`^rgb\\(${Q},${Q},${Q}\\)$`),$i=new RegExp(`^rgba\\(${ve},${ve},${ve},${Se}\\)$`),zi=new RegExp(`^rgba\\(${Q},${Q},${Q},${Se}\\)$`),Ci=new RegExp(`^hsl\\(${Se},${Q},${Q}\\)$`),Ei=new RegExp(`^hsla\\(${Se},${Q},${Q},${Se}\\)$`),Nt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xt(De,Ae,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Bt,formatHex:Bt,formatHex8:Si,formatHsl:Ai,formatRgb:Dt,toString:Dt});function Bt(){return this.rgb().formatHex()}function Si(){return this.rgb().formatHex8()}function Ai(){return hn(this).formatHsl()}function Dt(){return this.rgb().formatRgb()}function Ae(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=xi.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Tt(t):n===3?new L(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Te(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Te(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ki.exec(e))?new L(t[1],t[2],t[3],1):(t=Mi.exec(e))?new L(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$i.exec(e))?Te(t[1],t[2],t[3],t[4]):(t=zi.exec(e))?Te(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ci.exec(e))?Rt(t[1],t[2]/100,t[3]/100,1):(t=Ei.exec(e))?Rt(t[1],t[2]/100,t[3]/100,t[4]):Nt.hasOwnProperty(e)?Tt(Nt[e]):e==="transparent"?new L(NaN,NaN,NaN,0):null}function Tt(e){return new L(e>>16&255,e>>8&255,e&255,1)}function Te(e,t,n,r){return r<=0&&(e=t=n=NaN),new L(e,t,n,r)}function Ni(e){return e instanceof De||(e=Ae(e)),e?(e=e.rgb(),new L(e.r,e.g,e.b,e.opacity)):new L}function dt(e,t,n,r){return arguments.length===1?Ni(e):new L(e,t,n,r??1)}function L(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xt(L,dt,fn(De,{brighter(e){return e=e==null?Ye:Math.pow(Ye,e),new L(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ee:Math.pow(Ee,e),new L(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new L(he(this.r),he(this.g),he(this.b),Xe(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vt,formatHex:Vt,formatHex8:Bi,formatRgb:Ot,toString:Ot}));function Vt(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}`}function Bi(){return`#${fe(this.r)}${fe(this.g)}${fe(this.b)}${fe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ot(){const e=Xe(this.opacity);return`${e===1?"rgb(":"rgba("}${he(this.r)}, ${he(this.g)}, ${he(this.b)}${e===1?")":`, ${e})`}`}function Xe(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function he(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fe(e){return e=he(e),(e<16?"0":"")+e.toString(16)}function Rt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new K(e,t,n,r)}function hn(e){if(e instanceof K)return new K(e.h,e.s,e.l,e.opacity);if(e instanceof De||(e=Ae(e)),!e)return new K;if(e instanceof K)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,u=i-o,l=(i+o)/2;return u?(t===i?a=(n-r)/u+(n<r)*6:n===i?a=(r-t)/u+2:a=(t-n)/u+4,u/=l<.5?i+o:2-i-o,a*=60):u=l>0&&l<1?0:a,new K(a,u,l,e.opacity)}function Di(e,t,n,r){return arguments.length===1?hn(e):new K(e,t,n,r??1)}function K(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xt(K,Di,fn(De,{brighter(e){return e=e==null?Ye:Math.pow(Ye,e),new K(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ee:Math.pow(Ee,e),new K(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new L(rt(e>=240?e-240:e+120,o,r),rt(e,o,r),rt(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new K(Ht(this.h),Ve(this.s),Ve(this.l),Xe(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xe(this.opacity);return`${e===1?"hsl(":"hsla("}${Ht(this.h)}, ${Ve(this.s)*100}%, ${Ve(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ht(e){return e=(e||0)%360,e<0?e+360:e}function Ve(e){return Math.max(0,Math.min(1,e||0))}function rt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const dn=e=>()=>e;function Ti(e,t){return function(n){return e+n*t}}function Vi(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Oi(e){return(e=+e)==1?pn:function(t,n){return n-t?Vi(t,n,e):dn(isNaN(t)?n:t)}}function pn(e,t){var n=t-e;return n?Ti(e,n):dn(isNaN(e)?t:e)}const It=function e(t){var n=Oi(t);function r(o,i){var a=n((o=dt(o)).r,(i=dt(i)).r),u=n(o.g,i.g),l=n(o.b,i.b),s=pn(o.opacity,i.opacity);return function(c){return o.r=a(c),o.g=u(c),o.b=l(c),o.opacity=s(c),o+""}}return r.gamma=e,r}(1);function le(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var pt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ot=new RegExp(pt.source,"g");function Ri(e){return function(){return e}}function Hi(e){return function(t){return e(t)+""}}function Ii(e,t){var n=pt.lastIndex=ot.lastIndex=0,r,o,i,a=-1,u=[],l=[];for(e=e+"",t=t+"";(r=pt.exec(e))&&(o=ot.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),u[a]?u[a]+=i:u[++a]=i),(r=r[0])===(o=o[0])?u[a]?u[a]+=o:u[++a]=o:(u[++a]=null,l.push({i:a,x:le(r,o)})),n=ot.lastIndex;return n<t.length&&(i=t.slice(n),u[a]?u[a]+=i:u[++a]=i),u.length<2?l[0]?Hi(l[0].x):Ri(t):(t=l.length,function(s){for(var c=0,d;c<t;++c)u[(d=l[c]).i]=d.x(s);return u.join("")})}var Pt=180/Math.PI,mn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vn(e,t,n,r,o,i){var a,u,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Pt,skewX:Math.atan(l)*Pt,scaleX:a,scaleY:u}}var Oe;function Pi(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?mn:vn(t.a,t.b,t.c,t.d,t.e,t.f)}function Li(e){return e==null||(Oe||(Oe=document.createElementNS("http://www.w3.org/2000/svg","g")),Oe.setAttribute("transform",e),!(e=Oe.transform.baseVal.consolidate()))?mn:(e=e.matrix,vn(e.a,e.b,e.c,e.d,e.e,e.f))}function gn(e,t,n,r){function o(s){return s.length?s.pop()+" ":""}function i(s,c,d,m,g,k){if(s!==d||c!==m){var $=g.push("translate(",null,t,null,n);k.push({i:$-4,x:le(s,d)},{i:$-2,x:le(c,m)})}else(d||m)&&g.push("translate("+d+t+m+n)}function a(s,c,d,m){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),m.push({i:d.push(o(d)+"rotate(",null,r)-2,x:le(s,c)})):c&&d.push(o(d)+"rotate("+c+r)}function u(s,c,d,m){s!==c?m.push({i:d.push(o(d)+"skewX(",null,r)-2,x:le(s,c)}):c&&d.push(o(d)+"skewX("+c+r)}function l(s,c,d,m,g,k){if(s!==d||c!==m){var $=g.push(o(g)+"scale(",null,",",null,")");k.push({i:$-4,x:le(s,d)},{i:$-2,x:le(c,m)})}else(d!==1||m!==1)&&g.push(o(g)+"scale("+d+","+m+")")}return function(s,c){var d=[],m=[];return s=e(s),c=e(c),i(s.translateX,s.translateY,c.translateX,c.translateY,d,m),a(s.rotate,c.rotate,d,m),u(s.skewX,c.skewX,d,m),l(s.scaleX,s.scaleY,c.scaleX,c.scaleY,d,m),s=c=null,function(g){for(var k=-1,$=m.length,A;++k<$;)d[(A=m[k]).i]=A.x(g);return d.join("")}}}var qi=gn(Pi,"px, ","px)","deg)"),Yi=gn(Li,", ",")",")"),Xi=1e-12;function Lt(e){return((e=Math.exp(e))+1/e)/2}function ji(e){return((e=Math.exp(e))-1/e)/2}function Gi(e){return((e=Math.exp(2*e))-1)/(e+1)}const Wi=function e(t,n,r){function o(i,a){var u=i[0],l=i[1],s=i[2],c=a[0],d=a[1],m=a[2],g=c-u,k=d-l,$=g*g+k*k,A,b;if($<Xi)b=Math.log(m/s)/t,A=function(B){return[u+B*g,l+B*k,s*Math.exp(t*B*b)]};else{var V=Math.sqrt($),O=(m*m-s*s+r*$)/(2*s*n*V),P=(m*m-s*s-r*$)/(2*m*n*V),N=Math.log(Math.sqrt(O*O+1)-O),C=Math.log(Math.sqrt(P*P+1)-P);b=(C-N)/t,A=function(B){var te=B*b,T=Lt(N),pe=s/(n*V)*(T*Gi(t*te+N)-ji(N));return[u+pe*g,l+pe*k,s*T/Lt(t*te+N)]}}return A.duration=b*1e3*t/Math.SQRT2,A}return o.rho=function(i){var a=Math.max(.001,+i),u=a*a,l=u*u;return e(a,u,l)},o}(Math.SQRT2,2,4);var ye=0,ze=0,xe=0,yn=1e3,je,Ce,Ge=0,de=0,Ke=0,Ne=typeof performance=="object"&&performance.now?performance:Date,_n=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function kt(){return de||(_n(Fi),de=Ne.now()+Ke)}function Fi(){de=0}function We(){this._call=this._time=this._next=null}We.prototype=wn.prototype={constructor:We,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?kt():+n)+(t==null?0:+t),!this._next&&Ce!==this&&(Ce?Ce._next=this:je=this,Ce=this),this._call=e,this._time=n,mt()},stop:function(){this._call&&(this._call=null,this._time=1/0,mt())}};function wn(e,t,n){var r=new We;return r.restart(e,t,n),r}function Ui(){kt(),++ye;for(var e=je,t;e;)(t=de-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ye}function qt(){de=(Ge=Ne.now())+Ke,ye=ze=0;try{Ui()}finally{ye=0,Zi(),de=0}}function Ki(){var e=Ne.now(),t=e-Ge;t>yn&&(Ke-=t,Ge=e)}function Zi(){for(var e,t=je,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:je=n);Ce=e,mt(r)}function mt(e){if(!ye){ze&&(ze=clearTimeout(ze));var t=e-de;t>24?(e<1/0&&(ze=setTimeout(qt,e-Ne.now()-Ke)),xe&&(xe=clearInterval(xe))):(xe||(Ge=Ne.now(),xe=setInterval(Ki,yn)),ye=1,_n(qt))}}function Yt(e,t,n){var r=new We;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Ji=_t("start","end","cancel","interrupt"),Qi=[],bn=0,Xt=1,vt=2,Ie=3,jt=4,gt=5,Pe=6;function Ze(e,t,n,r,o,i){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;ea(e,n,{name:t,index:r,group:o,on:Ji,tween:Qi,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:bn})}function Mt(e,t){var n=Z(e,t);if(n.state>bn)throw new Error("too late; already scheduled");return n}function ee(e,t){var n=Z(e,t);if(n.state>Ie)throw new Error("too late; already running");return n}function Z(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ea(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=wn(i,0,n.time);function i(s){n.state=Xt,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var c,d,m,g;if(n.state!==Xt)return l();for(c in r)if(g=r[c],g.name===n.name){if(g.state===Ie)return Yt(a);g.state===jt?(g.state=Pe,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<t&&(g.state=Pe,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(Yt(function(){n.state===Ie&&(n.state=jt,n.timer.restart(u,n.delay,n.time),u(s))}),n.state=vt,n.on.call("start",e,e.__data__,n.index,n.group),n.state===vt){for(n.state=Ie,o=new Array(m=n.tween.length),c=0,d=-1;c<m;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=g);o.length=d+1}}function u(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(l),n.state=gt,1),d=-1,m=o.length;++d<m;)o[d].call(e,c);n.state===gt&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Pe,n.timer.stop(),delete r[t];for(var s in r)return;delete e.__transition}}function Le(e,t){var n=e.__transition,r,o,i=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){i=!1;continue}o=r.state>vt&&r.state<gt,r.state=Pe,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}i&&delete e.__transition}}function ta(e){return this.each(function(){Le(this,e)})}function na(e,t){var n,r;return function(){var o=ee(this,e),i=o.tween;if(i!==n){r=n=i;for(var a=0,u=r.length;a<u;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}o.tween=r}}function ra(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=ee(this,e),a=i.tween;if(a!==r){o=(r=a).slice();for(var u={name:t,value:n},l=0,s=o.length;l<s;++l)if(o[l].name===t){o[l]=u;break}l===s&&o.push(u)}i.tween=o}}function oa(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Z(this.node(),n).tween,o=0,i=r.length,a;o<i;++o)if((a=r[o]).name===e)return a.value;return null}return this.each((t==null?na:ra)(n,e,t))}function $t(e,t,n){var r=e._id;return e.each(function(){var o=ee(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return Z(o,r).value[t]}}function xn(e,t){var n;return(typeof t=="number"?le:t instanceof Ae?It:(n=Ae(t))?(t=n,It):Ii)(e,t)}function ia(e){return function(){this.removeAttribute(e)}}function aa(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ua(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function sa(e,t,n){var r,o=n+"",i;return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function la(e,t,n){var r,o,i;return function(){var a,u=n(this),l;return u==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=u+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,u)))}}function ca(e,t,n){var r,o,i;return function(){var a,u=n(this),l;return u==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=u+"",a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,u)))}}function fa(e,t){var n=Ue(e),r=n==="transform"?Yi:xn;return this.attrTween(e,typeof t=="function"?(n.local?ca:la)(n,r,$t(this,"attr."+e,t)):t==null?(n.local?aa:ia)(n):(n.local?sa:ua)(n,r,t))}function ha(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function da(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function pa(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&da(e,i)),n}return o._value=t,o}function ma(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&ha(e,i)),n}return o._value=t,o}function va(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ue(e);return this.tween(n,(r.local?pa:ma)(r,t))}function ga(e,t){return function(){Mt(this,e).delay=+t.apply(this,arguments)}}function ya(e,t){return t=+t,function(){Mt(this,e).delay=t}}function _a(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ga:ya)(t,e)):Z(this.node(),t).delay}function wa(e,t){return function(){ee(this,e).duration=+t.apply(this,arguments)}}function ba(e,t){return t=+t,function(){ee(this,e).duration=t}}function xa(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wa:ba)(t,e)):Z(this.node(),t).duration}function ka(e,t){if(typeof t!="function")throw new Error;return function(){ee(this,e).ease=t}}function Ma(e){var t=this._id;return arguments.length?this.each(ka(t,e)):Z(this.node(),t).ease}function $a(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ee(this,e).ease=n}}function za(e){if(typeof e!="function")throw new Error;return this.each($a(this._id,e))}function Ca(e){typeof e!="function"&&(e=en(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],a=i.length,u=r[o]=[],l,s=0;s<a;++s)(l=i[s])&&e.call(l,l.__data__,s,i)&&u.push(l);return new ue(r,this._parents,this._name,this._id)}function Ea(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var l=t[u],s=n[u],c=l.length,d=a[u]=new Array(c),m,g=0;g<c;++g)(m=l[g]||s[g])&&(d[g]=m);for(;u<r;++u)a[u]=t[u];return new ue(a,this._parents,this._name,this._id)}function Sa(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Aa(e,t,n){var r,o,i=Sa(t)?Mt:ee;return function(){var a=i(this,e),u=a.on;u!==r&&(o=(r=u).copy()).on(t,n),a.on=o}}function Na(e,t){var n=this._id;return arguments.length<2?Z(this.node(),n).on.on(e):this.each(Aa(n,e,t))}function Ba(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Da(){return this.on("end.remove",Ba(this._id))}function Ta(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wt(e));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var u=r[a],l=u.length,s=i[a]=new Array(l),c,d,m=0;m<l;++m)(c=u[m])&&(d=e.call(c,c.__data__,m,u))&&("__data__"in c&&(d.__data__=c.__data__),s[m]=d,Ze(s[m],t,n,m,s,Z(c,n)));return new ue(i,this._parents,t,n)}function Va(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Qt(e));for(var r=this._groups,o=r.length,i=[],a=[],u=0;u<o;++u)for(var l=r[u],s=l.length,c,d=0;d<s;++d)if(c=l[d]){for(var m=e.call(c,c.__data__,d,l),g,k=Z(c,n),$=0,A=m.length;$<A;++$)(g=m[$])&&Ze(g,t,n,$,m,k);i.push(m),a.push(c)}return new ue(i,a,t,n)}var Oa=Be.prototype.constructor;function Ra(){return new Oa(this._groups,this._parents)}function Ha(e,t){var n,r,o;return function(){var i=ge(this,e),a=(this.style.removeProperty(e),ge(this,e));return i===a?null:i===n&&a===r?o:o=t(n=i,r=a)}}function kn(e){return function(){this.style.removeProperty(e)}}function Ia(e,t,n){var r,o=n+"",i;return function(){var a=ge(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}function Pa(e,t,n){var r,o,i;return function(){var a=ge(this,e),u=n(this),l=u+"";return u==null&&(l=u=(this.style.removeProperty(e),ge(this,e))),a===l?null:a===r&&l===o?i:(o=l,i=t(r=a,u))}}function La(e,t){var n,r,o,i="style."+t,a="end."+i,u;return function(){var l=ee(this,e),s=l.on,c=l.value[i]==null?u||(u=kn(t)):void 0;(s!==n||o!==c)&&(r=(n=s).copy()).on(a,o=c),l.on=r}}function qa(e,t,n){var r=(e+="")=="transform"?qi:xn;return t==null?this.styleTween(e,Ha(e,r)).on("end.style."+e,kn(e)):typeof t=="function"?this.styleTween(e,Pa(e,r,$t(this,"style."+e,t))).each(La(this._id,e)):this.styleTween(e,Ia(e,r,t),n).on("end.style."+e,null)}function Ya(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Xa(e,t,n){var r,o;function i(){var a=t.apply(this,arguments);return a!==o&&(r=(o=a)&&Ya(e,a,n)),r}return i._value=t,i}function ja(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Xa(e,t,n??""))}function Ga(e){return function(){this.textContent=e}}function Wa(e){return function(){var t=e(this);this.textContent=t??""}}function Fa(e){return this.tween("text",typeof e=="function"?Wa($t(this,"text",e)):Ga(e==null?"":e+""))}function Ua(e){return function(t){this.textContent=e.call(this,t)}}function Ka(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Ua(o)),t}return r._value=e,r}function Za(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Ka(e))}function Ja(){for(var e=this._name,t=this._id,n=Mn(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],u=a.length,l,s=0;s<u;++s)if(l=a[s]){var c=Z(l,t);Ze(l,e,n,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ue(r,this._parents,e,n)}function Qa(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,a){var u={value:a},l={value:function(){--o===0&&i()}};n.each(function(){var s=ee(this,r),c=s.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(l)),s.on=t}),o===0&&i()})}var eu=0;function ue(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Mn(){return++eu}var re=Be.prototype;ue.prototype={constructor:ue,select:Ta,selectAll:Va,selectChild:re.selectChild,selectChildren:re.selectChildren,filter:Ca,merge:Ea,selection:Ra,transition:Ja,call:re.call,nodes:re.nodes,node:re.node,size:re.size,empty:re.empty,each:re.each,on:Na,attr:fa,attrTween:va,style:qa,styleTween:ja,text:Fa,textTween:Za,remove:Da,tween:oa,delay:_a,duration:xa,ease:Ma,easeVarying:za,end:Qa,[Symbol.iterator]:re[Symbol.iterator]};function tu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var nu={time:null,delay:0,duration:250,ease:tu};function ru(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function ou(e){var t,n;e instanceof ue?(t=e._id,e=e._name):(t=Mn(),(n=nu).time=kt(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a=r[i],u=a.length,l,s=0;s<u;++s)(l=a[s])&&Ze(l,e,t,s,a,n||ru(l,t));return new ue(r,this._parents,e,t)}Be.prototype.interrupt=ta;Be.prototype.transition=ou;const Re=e=>()=>e;function iu(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function ie(e,t,n){this.k=e,this.x=t,this.y=n}ie.prototype={constructor:ie,scale:function(e){return e===1?this:new ie(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ie(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zt=new ie(1,0,0);ie.prototype;function it(e){e.stopImmediatePropagation()}function ke(e){e.preventDefault(),e.stopImmediatePropagation()}function au(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function uu(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Gt(){return this.__zoom||zt}function su(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function lu(){return navigator.maxTouchPoints||"ontouchstart"in this}function cu(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function fu(){var e=au,t=uu,n=cu,r=su,o=lu,i=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],u=250,l=Wi,s=_t("start","zoom","end"),c,d,m,g=500,k=150,$=0,A=10;function b(f){f.property("__zoom",Gt).on("wheel.zoom",te,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",pe).filter(o).on("touchstart.zoom",Je).on("touchmove.zoom",Qe).on("touchend.zoom touchcancel.zoom",et).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(f,w,h,p){var y=f.selection?f.selection():f;y.property("__zoom",Gt),f!==y?N(f,w,h,p):y.interrupt().each(function(){C(this,arguments).event(p).start().zoom(null,typeof w=="function"?w.apply(this,arguments):w).end()})},b.scaleBy=function(f,w,h,p){b.scaleTo(f,function(){var y=this.__zoom.k,v=typeof w=="function"?w.apply(this,arguments):w;return y*v},h,p)},b.scaleTo=function(f,w,h,p){b.transform(f,function(){var y=t.apply(this,arguments),v=this.__zoom,x=h==null?P(y):typeof h=="function"?h.apply(this,arguments):h,E=v.invert(x),z=typeof w=="function"?w.apply(this,arguments):w;return n(O(V(v,z),x,E),y,a)},h,p)},b.translateBy=function(f,w,h,p){b.transform(f,function(){return n(this.__zoom.translate(typeof w=="function"?w.apply(this,arguments):w,typeof h=="function"?h.apply(this,arguments):h),t.apply(this,arguments),a)},null,p)},b.translateTo=function(f,w,h,p,y){b.transform(f,function(){var v=t.apply(this,arguments),x=this.__zoom,E=p==null?P(v):typeof p=="function"?p.apply(this,arguments):p;return n(zt.translate(E[0],E[1]).scale(x.k).translate(typeof w=="function"?-w.apply(this,arguments):-w,typeof h=="function"?-h.apply(this,arguments):-h),v,a)},p,y)};function V(f,w){return w=Math.max(i[0],Math.min(i[1],w)),w===f.k?f:new ie(w,f.x,f.y)}function O(f,w,h){var p=w[0]-h[0]*f.k,y=w[1]-h[1]*f.k;return p===f.x&&y===f.y?f:new ie(f.k,p,y)}function P(f){return[(+f[0][0]+ +f[1][0])/2,(+f[0][1]+ +f[1][1])/2]}function N(f,w,h,p){f.on("start.zoom",function(){C(this,arguments).event(p).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(p).end()}).tween("zoom",function(){var y=this,v=arguments,x=C(y,v).event(p),E=t.apply(y,v),z=h==null?P(E):typeof h=="function"?h.apply(y,v):h,R=Math.max(E[1][0]-E[0][0],E[1][1]-E[0][1]),D=y.__zoom,q=typeof w=="function"?w.apply(y,v):w,U=l(D.invert(z).concat(R/D.k),q.invert(z).concat(R/q.k));return function(Y){if(Y===1)Y=q;else{var ne=U(Y),tt=R/ne[2];Y=new ie(tt,z[0]-ne[0]*tt,z[1]-ne[1]*tt)}x.zoom(null,Y)}})}function C(f,w,h){return!h&&f.__zooming||new B(f,w)}function B(f,w){this.that=f,this.args=w,this.active=0,this.sourceEvent=null,this.extent=t.apply(f,w),this.taps=0}B.prototype={event:function(f){return f&&(this.sourceEvent=f),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(f,w){return this.mouse&&f!=="mouse"&&(this.mouse[1]=w.invert(this.mouse[0])),this.touch0&&f!=="touch"&&(this.touch0[1]=w.invert(this.touch0[0])),this.touch1&&f!=="touch"&&(this.touch1[1]=w.invert(this.touch1[0])),this.that.__zoom=w,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(f){var w=ce(this.that).datum();s.call(f,this.that,new iu(f,{sourceEvent:this.sourceEvent,target:b,type:f,transform:this.that.__zoom,dispatch:s}),w)}};function te(f,...w){if(!e.apply(this,arguments))return;var h=C(this,w).event(f),p=this.__zoom,y=Math.max(i[0],Math.min(i[1],p.k*Math.pow(2,r.apply(this,arguments)))),v=se(f);if(h.wheel)(h.mouse[0][0]!==v[0]||h.mouse[0][1]!==v[1])&&(h.mouse[1]=p.invert(h.mouse[0]=v)),clearTimeout(h.wheel);else{if(p.k===y)return;h.mouse=[v,p.invert(v)],Le(this),h.start()}ke(f),h.wheel=setTimeout(x,k),h.zoom("mouse",n(O(V(p,y),h.mouse[0],h.mouse[1]),h.extent,a));function x(){h.wheel=null,h.end()}}function T(f,...w){if(m||!e.apply(this,arguments))return;var h=f.currentTarget,p=C(this,w,!0).event(f),y=ce(f.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",R,!0),v=se(f,h),x=f.clientX,E=f.clientY;wi(f.view),it(f),p.mouse=[v,this.__zoom.invert(v)],Le(this),p.start();function z(D){if(ke(D),!p.moved){var q=D.clientX-x,U=D.clientY-E;p.moved=q*q+U*U>$}p.event(D).zoom("mouse",n(O(p.that.__zoom,p.mouse[0]=se(D,h),p.mouse[1]),p.extent,a))}function R(D){y.on("mousemove.zoom mouseup.zoom",null),bi(D.view,p.moved),ke(D),p.event(D).end()}}function pe(f,...w){if(e.apply(this,arguments)){var h=this.__zoom,p=se(f.changedTouches?f.changedTouches[0]:f,this),y=h.invert(p),v=h.k*(f.shiftKey?.5:2),x=n(O(V(h,v),p,y),t.apply(this,w),a);ke(f),u>0?ce(this).transition().duration(u).call(N,x,p,f):ce(this).call(b.transform,x,p,f)}}function Je(f,...w){if(e.apply(this,arguments)){var h=f.touches,p=h.length,y=C(this,w,f.changedTouches.length===p).event(f),v,x,E,z;for(it(f),x=0;x<p;++x)E=h[x],z=se(E,this),z=[z,this.__zoom.invert(z),E.identifier],y.touch0?!y.touch1&&y.touch0[2]!==z[2]&&(y.touch1=z,y.taps=0):(y.touch0=z,v=!0,y.taps=1+!!c);c&&(c=clearTimeout(c)),v&&(y.taps<2&&(d=z[0],c=setTimeout(function(){c=null},g)),Le(this),y.start())}}function Qe(f,...w){if(this.__zooming){var h=C(this,w).event(f),p=f.changedTouches,y=p.length,v,x,E,z;for(ke(f),v=0;v<y;++v)x=p[v],E=se(x,this),h.touch0&&h.touch0[2]===x.identifier?h.touch0[0]=E:h.touch1&&h.touch1[2]===x.identifier&&(h.touch1[0]=E);if(x=h.that.__zoom,h.touch1){var R=h.touch0[0],D=h.touch0[1],q=h.touch1[0],U=h.touch1[1],Y=(Y=q[0]-R[0])*Y+(Y=q[1]-R[1])*Y,ne=(ne=U[0]-D[0])*ne+(ne=U[1]-D[1])*ne;x=V(x,Math.sqrt(Y/ne)),E=[(R[0]+q[0])/2,(R[1]+q[1])/2],z=[(D[0]+U[0])/2,(D[1]+U[1])/2]}else if(h.touch0)E=h.touch0[0],z=h.touch0[1];else return;h.zoom("touch",n(O(x,E,z),h.extent,a))}}function et(f,...w){if(this.__zooming){var h=C(this,w).event(f),p=f.changedTouches,y=p.length,v,x;for(it(f),m&&clearTimeout(m),m=setTimeout(function(){m=null},g),v=0;v<y;++v)x=p[v],h.touch0&&h.touch0[2]===x.identifier?delete h.touch0:h.touch1&&h.touch1[2]===x.identifier&&delete h.touch1;if(h.touch1&&!h.touch0&&(h.touch0=h.touch1,delete h.touch1),h.touch0)h.touch0[1]=this.__zoom.invert(h.touch0[0]);else if(h.end(),h.taps===2&&(x=se(x,this),Math.hypot(d[0]-x[0],d[1]-x[1])<A)){var E=ce(this).on("dblclick.zoom");E&&E.apply(this,arguments)}}}return b.wheelDelta=function(f){return arguments.length?(r=typeof f=="function"?f:Re(+f),b):r},b.filter=function(f){return arguments.length?(e=typeof f=="function"?f:Re(!!f),b):e},b.touchable=function(f){return arguments.length?(o=typeof f=="function"?f:Re(!!f),b):o},b.extent=function(f){return arguments.length?(t=typeof f=="function"?f:Re([[+f[0][0],+f[0][1]],[+f[1][0],+f[1][1]]]),b):t},b.scaleExtent=function(f){return arguments.length?(i[0]=+f[0],i[1]=+f[1],b):[i[0],i[1]]},b.translateExtent=function(f){return arguments.length?(a[0][0]=+f[0][0],a[1][0]=+f[1][0],a[0][1]=+f[0][1],a[1][1]=+f[1][1],b):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},b.constrain=function(f){return arguments.length?(n=f,b):n},b.duration=function(f){return arguments.length?(u=+f,b):u},b.interpolate=function(f){return arguments.length?(l=f,b):l},b.on=function(){var f=s.on.apply(s,arguments);return f===s?b:f},b.clickDistance=function(f){return arguments.length?($=(f=+f)*f,b):Math.sqrt($)},b.tapDistance=function(f){return arguments.length?(A=+f,b):A},b}const $n=Symbol("MiniMapSlots"),hu=_e({name:"MiniMapNode",compatConfig:{MODE:3},props:["id","position","dimensions","strokeWidth","strokeColor","borderRadius","color","shapeRendering","type"],emits:["click","dblclick","mouseenter","mousemove","mouseleave"],setup(e,{attrs:t,emit:n}){const r=st($n);return()=>{const o=t.style??{},i=r[`node-${e.type}`];return i?i(e):yt("rect",{id:e.id,class:["vue-flow__minimap-node",t.class].join(" "),style:o,x:e.position.x,y:e.position.y,rx:e.borderRadius,ry:e.borderRadius,width:e.dimensions.width,height:e.dimensions.height,fill:e.color||o.background||o.backgroundColor,stroke:e.strokeColor,strokeWidth:e.strokeWidth,shapeRendering:e.shapeRendering,onClick:a=>n("click",a),onDblClick:a=>n("dblclick",a),onMouseenter:a=>n("mouseenter",a),onMousemove:a=>n("mousemove",a),onMouseleave:a=>n("mouseleave",a)})}}}),du=["width","height","viewBox","aria-labelledby"],pu=["id"],mu=["d","fill","stroke","stroke-width"],vu={name:"MiniMap",compatConfig:{MODE:3}},gu=_e({...vu,props:{nodeColor:{type:[String,Function],default:"#e2e2e2"},nodeStrokeColor:{type:[String,Function],default:"transparent"},nodeClassName:{type:[String,Function]},nodeBorderRadius:{default:5},nodeStrokeWidth:{default:2},maskColor:{default:"rgb(240, 240, 240, 0.6)"},maskStrokeColor:{default:"none"},maskStrokeWidth:{default:1},position:{default:"bottom-right"},pannable:{type:Boolean,default:!1},zoomable:{type:Boolean,default:!1},width:null,height:null,ariaLabel:{default:"Vue Flow mini map"},inversePan:{type:Boolean,default:!1},zoomStep:{default:10}},emits:["click","nodeClick","nodeDblclick","nodeMouseenter","nodeMousemove","nodeMouseleave"],setup(e,{emit:t}){const n=Sn(),r=200,o=150,{id:i,edges:a,viewport:u,translateExtent:l,dimensions:s,emits:c,nodes:d,d3Selection:m,d3Zoom:g}=Fe(),k=me();An($n,Nn());const $=H(()=>{var p;return e.width??((p=n.style)==null?void 0:p.width)??r}),A=H(()=>{var p;return e.height??((p=n.style)==null?void 0:p.height)??o}),b=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision",V=H(()=>e.nodeColor instanceof Function?e.nodeColor:()=>e.nodeColor),O=H(()=>e.nodeStrokeColor instanceof Function?e.nodeStrokeColor:()=>e.nodeStrokeColor),P=H(()=>e.nodeClassName instanceof Function?e.nodeClassName:()=>e.nodeClassName),N=H(()=>Bn(d.value)),C=H(()=>({x:-u.value.x/u.value.zoom,y:-u.value.y/u.value.zoom,width:s.value.width/u.value.zoom,height:s.value.height/u.value.zoom})),B=H(()=>d.value&&d.value.length?Dn(N.value,C.value):C.value),te=H(()=>{const p=B.value.width/$.value,y=B.value.height/A.value;return Math.max(p,y)}),T=H(()=>{const p=te.value*$.value,y=te.value*A.value,v=5*te.value;return{offset:v,x:B.value.x-(p-B.value.width)/2-v,y:B.value.y-(y-B.value.height)/2-v,width:p+v*2,height:y+v*2}}),pe=H(()=>!T.value.x||!T.value.y?"":`
    M${T.value.x-T.value.offset},${T.value.y-T.value.offset}
    h${T.value.width+T.value.offset*2}
    v${T.value.height+T.value.offset*2}
    h${-T.value.width-T.value.offset*2}z
    M${C.value.x},${C.value.y}
    h${C.value.width}
    v${C.value.height}
    h${-C.value.width}z`);Tn(p=>{if(k.value){const y=ce(k.value),v=z=>{if(z.sourceEvent.type!=="wheel"||!m.value||!g.value)return;const R=-z.sourceEvent.deltaY*(z.sourceEvent.deltaMode===1?.05:z.sourceEvent.deltaMode?1:.002)*e.zoomStep,D=u.value.zoom*2**R;g.value.scaleTo(m.value,D)},x=z=>{if(z.sourceEvent.type!=="mousemove"||!m.value||!g.value)return;const R=te.value*Math.max(1,u.value.zoom)*(e.inversePan?-1:1),D={x:u.value.x-z.sourceEvent.movementX*R,y:u.value.y-z.sourceEvent.movementY*R},q=[[0,0],[s.value.width,s.value.height]],U=zt.translate(D.x,D.y).scale(u.value.zoom),Y=g.value.constrain()(U,q,l.value);g.value.transform(m.value,Y)},E=fu().on("zoom",e.pannable?x:()=>{}).on("zoom.wheel",e.zoomable?v:()=>{});y.call(E),p(()=>{y.on("zoom",null)})}},{flush:"post"});function Je(p){const[y,v]=se(p);t("click",{event:p,position:{x:y,y:v}})}function Qe(p,y){const v={event:p,node:y,connectedEdges:be([y],a.value)};c.miniMapNodeClick(v),t("nodeClick",v)}function et(p,y){const v={event:p,node:y,connectedEdges:be([y],a.value)};c.miniMapNodeDoubleClick(v),t("nodeDblclick",v)}function f(p,y){const v={event:p,node:y,connectedEdges:be([y],a.value)};c.miniMapNodeMouseEnter(v),t("nodeMouseenter",v)}function w(p,y){const v={event:p,node:y,connectedEdges:be([y],a.value)};c.miniMapNodeMouseMove(v),t("nodeMousemove",v)}function h(p,y){const v={event:p,node:y,connectedEdges:be([y],a.value)};c.miniMapNodeMouseLeave(v),t("nodeMouseleave",v)}return(p,y)=>(S(),X(_(Zt),{position:e.position,class:ut(["vue-flow__minimap",{pannable:e.pannable,zoomable:e.zoomable}])},{default:j(()=>[(S(),G("svg",{ref_key:"el",ref:k,width:_($),height:_(A),viewBox:[_(T).x,_(T).y,_(T).width,_(T).height].join(" "),role:"img","aria-labelledby":`vue-flow__minimap-${_(i)}`,onClick:Je},[e.ariaLabel?(S(),G("title",{key:0,id:`vue-flow__minimap-${_(i)}`},Vn(e.ariaLabel),9,pu)):J("",!0),(S(!0),G(Kt,null,On(_(d),v=>(S(),X(_(hu),{id:v.id,key:v.id,position:v.computedPosition,dimensions:v.dimensions,style:Ft(v.style),class:ut(_(P)(v)),color:_(V)(v),"border-radius":e.nodeBorderRadius,"stroke-color":_(O)(v),"stroke-width":e.nodeStrokeWidth,"shape-rendering":_(b),type:v.type,onClick:x=>Qe(x,v),onDblclick:x=>et(x,v),onMouseenter:x=>f(x,v),onMousemove:x=>w(x,v),onMouseleave:x=>h(x,v)},null,8,["id","position","dimensions","style","class","color","border-radius","stroke-color","stroke-width","shape-rendering","type","onClick","onDblclick","onMouseenter","onMousemove","onMouseleave"]))),128)),ae("path",{class:"vue-flow__minimap-mask",d:_(pe),fill:e.maskColor,stroke:e.maskStrokeColor,"stroke-width":e.maskStrokeWidth,"fill-rule":"evenodd"},null,8,mu)],8,du))]),_:1},8,["position","class"]))}}),yu=_e({__name:"CustomMap",setup(e){const t=me(!1);return(n,r)=>(S(),X(_(gu),{ref:"map",pannable:"",zoomable:"",position:_(Ut).TopLeft,"zoom-step":.5,"node-color":_(Rn),"node-stroke-color":"black",class:ut([{"scale-100":t.value,"scale-50":!t.value},"transition-transform dark:bg-default-dark"]),onMouseenter:r[0]||(r[0]=o=>t.value=!0),onMouseleave:r[1]||(r[1]=o=>t.value=!1)},null,8,["position","node-color","class"]))}});function _u(e,t,n){return r=>{const o=r;if(o.style={strokeWidth:4},!r.source||!r.sourceHandle||!r.target||!r.targetHandle)return;const i=n.value.find(a=>a.targetNode.id===o.target&&a.targetHandle===o.targetHandle);i&&t([i]),e([o])}}function wu(e,t,n,r){return o=>{var i;switch(t.value=e.value.findIndex(a=>a.id==o.node.id),o.node.type){case"inputType":case"ruleIdentifier":default:n.value="label";break}(i=r.value)==null||i.open()}}function bu(){return e=>{e.dataTransfer&&(e.dataTransfer.dropEffect="move")}}function xu(e,t,n){return r=>{if(!r.dataTransfer)return;const o=JSON.parse(r.dataTransfer.getData("application/vueflow"));if(!e.value)return;o.id=Hn();const{left:i,top:a}=e.value.getBoundingClientRect();o.position=t({x:r.clientX-i,y:r.clientY-a}),lt(o)&&n([o])}}var zn={},Cn={},Ct={exports:{}},M=String,En=function(){return{isColorSupported:!1,reset:M,bold:M,dim:M,italic:M,underline:M,inverse:M,hidden:M,strikethrough:M,black:M,red:M,green:M,yellow:M,blue:M,magenta:M,cyan:M,white:M,gray:M,bgBlack:M,bgRed:M,bgGreen:M,bgYellow:M,bgBlue:M,bgMagenta:M,bgCyan:M,bgWhite:M,blackBright:M,redBright:M,greenBright:M,yellowBright:M,blueBright:M,magentaBright:M,cyanBright:M,whiteBright:M,bgBlackBright:M,bgRedBright:M,bgGreenBright:M,bgYellowBright:M,bgBlueBright:M,bgMagentaBright:M,bgCyanBright:M,bgWhiteBright:M}};Ct.exports=En();Ct.exports.createColors=En;var ku=Ct.exports;(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0});function n(s,c){for(var d in c)Object.defineProperty(s,d,{enumerable:!0,get:c[d]})}n(e,{dim:function(){return u},default:function(){return l}});const r=o(ku);function o(s){return s&&s.__esModule?s:{default:s}}let i=new Set;function a(s,c,d){typeof process<"u"&&t.JEST_WORKER_ID||d&&i.has(d)||(d&&i.add(d),console.warn(""),c.forEach(m=>console.warn(s,"-",m)))}function u(s){return r.default.dim(s)}const l={info(s,c){a(r.default.bold(r.default.cyan("info")),...Array.isArray(s)?[s]:[c,s])},warn(s,c){a(r.default.bold(r.default.yellow("warn")),...Array.isArray(s)?[s]:[c,s])},risk(s,c){a(r.default.bold(r.default.magenta("risk")),...Array.isArray(s)?[s]:[c,s])}}})(Cn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return o}});const t=n(Cn);function n(i){return i&&i.__esModule?i:{default:i}}function r({version:i,from:a,to:u}){t.default.warn(`${a}-color-renamed`,[`As of Tailwind CSS ${i}, \`${a}\` has been renamed to \`${u}\`.`,"Update your configuration file to silence this warning."])}const o={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return r({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return r({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return r({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return r({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return r({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(zn);let at=zn;var Mu=(at.__esModule?at:{default:at}).default;const Me=In(Mu),Wt={content:["./index.html","./src/**/*.{js,ts,jsx,tsx,vue}","./node_modules/openbim-components/**/*.{js,ts,jsx,tsx}"],darkMode:"class",theme:{extend:{colors:{default:{darkest:"#000000",dark:"#14213D",medium:Me.neutral[200],light:Me.teal[50],contrast:"#FCA311"},success:Me.green[500],"ease-blue":Me.blue[600],danger:Me.red[600]}}},plugins:[]},zu=_e({__name:"Graph",setup(e){const t=me(null),n=me(0),r=me("name"),o=me(!0),{graph:i,updateGraph:a,registerResetCallback:u}=st(Pn),l=st(Ln),{nodes:s,edges:c,addEdges:d,addNodes:m,project:g,vueFlowRef:k,removeEdges:$,removeNodes:A}=Fe({maxZoom:2,minZoom:.1,fitViewOnInit:!0,edges:i.value.elements.filter(N=>Et(N)),nodes:i.value.elements.filter(N=>lt(N)),nodeTypes:qn,multiSelectionKeyCode:Yn});u(()=>{const N=i.value.elements.filter(B=>lt(B)),C=i.value.elements.filter(B=>Et(B));A(s.value),Xn(()=>{m(N),d(C)})}),jn([c,s],([N,C])=>a(C,N),{deep:!0});const b=_u(d,$,c),V=wu(s,n,r,t),O=bu(),P=xu(k,g,m);return(N,C)=>(S(),X(_(Zn),{onConnect:_(b),onNodeDoubleClick:_(V),onDragover:Kn(_(O),["prevent"]),onDrop:_(P),class:"bg-white dark:bg-default-dark"},{default:j(()=>[oe(_(ir),{variant:o.value?_(F).Lines:_(F).Dots,"pattern-color":_(l)?_(Wt).theme.extend.colors.default.light:_(Wt).theme.extend.colors.default.dark,"line-width":.25,size:.8},null,8,["variant","pattern-color"]),oe(_(Or),null,{default:j(()=>[oe(_($e),{onClick:C[0]||(C[0]=B=>o.value=!o.value)},{default:j(()=>[oe(_(Gn),{class:"bg-black"})]),_:1})]),_:1}),oe(yu),oe(_(Wn),{ref_key:"dialog",ref:t},{title:j(()=>[nt("Change Input")]),content:j(()=>[_(s)[n.value]?Fn((S(),G("input",{key:0,class:"px-1 py-2 border border-black hover:border-blue-600 focus:border-transparent",type:"text","onUpdate:modelValue":C[1]||(C[1]=B=>_(s)[n.value].data[r.value]=B)},null,512)),[[Un,_(s)[n.value].data[r.value]]]):J("",!0)]),accept_button_text:j(()=>[nt("Change Input")]),reject_button_text:j(()=>[nt("Revert")]),_:1},512)]),_:1},8,["onConnect","onNodeDoubleClick","onDragover","onDrop"]))}});export{zu as default};
